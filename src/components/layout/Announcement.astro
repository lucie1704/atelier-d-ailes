---
interface Props {
  title?: string;
  message: string;
  href?: string;
}

const { title = 'Information', message, href } = Astro.props;

const Tag = href ? 'a' : 'div';
---

<Tag href={href} class="bg-accent text-white block no-underline relative">
  <!-- Zone cliquable fixe -->
  <div class="absolute inset-0 z-10"></div>

  <!-- Conteneur d'animation -->
  <div class="relative overflow-hidden md:flex md:justify-center pointer-events-none">
    <div class="announcement-scroll flex md:contents">
      <div class="flex items-center px-4 py-1 flex-nowrap">
        <span class="font-semibold text-xs px-1 py-[0.1rem] bg-white/15 rounded uppercase">
          {title}
        </span>
        <span class="text-[0.9375rem] ml-2">
          {message}
        </span>
      </div>

      <!-- Copie identique pour loop infini -->
      <div class="flex items-center px-4 py-1 flex-nowrap md:hidden" aria-hidden="true">
        <span class="font-semibold text-xs px-1 py-[0.1rem] bg-white/15 rounded uppercase">
          {title}
        </span>
        <span class="text-[0.9375rem] ml-2">
          {message}
        </span>
      </div>
    </div>
  </div>
</Tag>
