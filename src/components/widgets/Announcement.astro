---
interface Props {
  title?: string;
  message: string;
  href?: string;
}

const { title = 'Information', message, href } = Astro.props;

const Tag = href ? 'a' : 'div';
---

<Tag href={href} class="bg-accent text-white block overflow-hidden no-underline">
  <div class="relative flex overflow-hidden md:justify-center">
    <div class="flex whitespace-nowrap animate-announcement md:animate-none items-center gap-2 px-4 py-1">
      <span class="font-semibold text-xs px-1 py-[0.1rem] bg-white/15 rounded uppercase shrink-0">
        {title}
      </span>
      <span class="text-[0.9375rem] shrink-0">
        {message}
      </span>
    </div>

    <!-- Duplicate pour l'animation sur mobile, cachÃ© sur desktop -->
    <div
      class="flex whitespace-nowrap animate-announcement md:hidden items-center gap-2 px-4 py-1 ml-12"
      aria-hidden="true"
    >
      <span class="font-semibold text-xs px-1 py-[0.1rem] bg-white/15 rounded uppercase shrink-0">
        {title}
      </span>
      <span class="text-[0.9375rem] shrink-0">
        {message}
      </span>
    </div>
  </div>
</Tag>
